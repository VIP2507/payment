(this.webpackJsonppayment=this.webpackJsonppayment||[]).push([[0],{13:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(7),r=c.n(a),l=(c(13),c(4)),i=c(2),d=c(8),m=c(3),j=c.n(m),o=c(5),b=function(){var e=Object(o.a)(j.a.mark((function e(t,c){var s,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.amount,!(n=t.result).error){e.next=5;break}c(n),e.next=10;break;case 5:return e.next=7,u({payment_method_id:n.paymentMethod.id,name:n.paymentMethod.billing_details.name,email:n.paymentMethod.billing_details.email,amount:s});case 7:a=e.sent,console.log(a),c(a);case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:4000","/pay"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=c(0),h={style:{base:{lineHeight:"27px",color:"#212529",fontSize:"1.1rem","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};function O(e){var t=Object(s.useState)(!1),c=Object(l.a)(t,2),a=c[0],r=c[1],d=Object(s.useState)(""),m=Object(l.a)(d,2),u=m[0],O=m[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),N=f[0],v=f[1],y=Object(s.useState)(""),g=Object(l.a)(y,2),w=g[0],E=g[1],C=Object(i.useStripe)(),S=Object(i.useElements)(),P=function(){var t=Object(o.a)(j.a.mark((function t(c){var s,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),C&&S){t.next=3;break}return t.abrupt("return");case 3:return r(!0),O(""),s={type:"card",card:S.getElement(i.CardNumberElement),billing_details:{name:N,email:w}},t.next=8,C.createPaymentMethod(s);case 8:n=t.sent,b({result:n,amount:e.amount},k);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(t){r(!1),t.error?O("string"===typeof t.error?t.error:t.error.message):e.setPaymentCompleted(!!t.success)};return Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:Object(x.jsx)("span",{className:"text-muted",children:"Pay with card"})}),Object(x.jsxs)("form",{onSubmit:P,children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(x.jsx)("label",{htmlFor:"cc-name",children:"Name on card"}),Object(x.jsx)("input",{id:"cc-name",type:"text",className:"form-control",value:N,onChange:function(e){return v(e.target.value)}})]}),Object(x.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(x.jsx)("label",{htmlFor:"cc-email",children:"Email"}),Object(x.jsx)("input",{id:"cc-email",type:"text",className:"form-control",value:w,onChange:function(e){return E(e.target.value)}})]})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(x.jsx)("label",{htmlFor:"cc-number",children:"Card Number"}),Object(x.jsx)(i.CardNumberElement,{id:"cc-number",className:"form-control",options:h})]})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(x.jsx)("label",{htmlFor:"expiry",children:"Expiration Date"}),Object(x.jsx)(i.CardExpiryElement,{id:"expiry",className:"form-control",options:h})]}),Object(x.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(x.jsx)("label",{htmlFor:"cvc",children:"CVC"}),Object(x.jsx)(i.CardCvcElement,{id:"cvc",className:"form-control",options:h})]})]}),Object(x.jsx)("hr",{className:"mb-4"}),Object(x.jsx)("button",{className:"btn btn-dark w-100",type:"submit",disabled:a,children:a?Object(x.jsx)("div",{className:"spinner-border spinner-border-sm text-light",role:"status"}):"PAY \u20b9".concat(e.amount)}),u&&Object(x.jsx)("div",{className:"text-danger mt-2",children:u})]})]})}c(16);var p=Object(d.a)("API_KEY");var f=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"py-5 text-center",children:Object(x.jsx)("h4",{style:{fontFamily:"cursive",fontWeight:"bold",color:"#2f2f2f"},children:"PAYMENT"})}),Object(x.jsx)("div",{className:"row s-box",children:c?Object(x.jsx)("div",{className:"success-msg",children:Object(x.jsx)("div",{className:"title",children:"Payment Successful"})}):Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)("div",{className:"col-md-5 order-md-2 mb-4",children:Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(x.jsx)("span",{className:"text-muted",children:"Your cart"}),Object(x.jsx)("span",{className:"badge bg-secondary badge-pill",children:"3"})]}),Object(x.jsxs)("ul",{className:"list-group mb-3",children:[Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{className:"my-0",children:"Product name"}),Object(x.jsx)("small",{className:"text-muted",children:"Brief description"})]}),Object(x.jsx)("span",{className:"text-muted",children:"\u20b91200"})]}),Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{className:"my-0",children:"Second product"}),Object(x.jsx)("small",{className:"text-muted",children:"Brief description"})]}),Object(x.jsx)("span",{className:"text-muted",children:"\u20b9800"})]}),Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{className:"my-0",children:"Third item"}),Object(x.jsx)("small",{className:"text-muted",children:"Brief description"})]}),Object(x.jsx)("span",{className:"text-muted",children:"\u20b9500"})]}),Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between bg-light",children:[Object(x.jsxs)("div",{className:"text-success",children:[Object(x.jsx)("h6",{className:"my-0",children:"Promo code"}),Object(x.jsx)("small",{children:"EXAMPLECODE"})]}),Object(x.jsx)("span",{className:"text-success",children:"-\u20b9500"})]}),Object(x.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(x.jsx)("span",{children:"Total (INR)"}),Object(x.jsx)("strong",{children:"\u20b92000"})]})]})]})}),Object(x.jsx)("div",{className:"col-md-7 order-md-1",children:Object(x.jsx)(i.Elements,{stripe:p,children:Object(x.jsx)(O,{amount:2e3,setPaymentCompleted:a})})})]})})]})};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(f,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.26ce5777.chunk.js.map